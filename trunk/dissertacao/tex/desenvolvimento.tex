\newpage

\chapter{Desenvolvimento}
\label{desenvolvimento}
Este capítulo apresenta a abordagem desenvolvida neste trabalho, cita suas funcionalidades e relata os estudos de caso desenvolvidos para evidenciar que a hipótese de pesquisa é verdadeira. Também discute os resultados e as lições aprendidas dos estudos de caso \textbf{bem como as limitações da abordagem e da implementação}. 

\section{O CoMDD - \textit{Collaborative Model Driven Development}}
O CoMDD é uma abordagem que consiste no desenvolvimento colaborativo orientado a modelos, onde a colaboração é referente a edição colaborativa de modelos. Seja mais de uma pessoa editando o mesmo modelo (concorrentemente ou não), seja várias pessoas editando vários modelos, de forma que cada modelo tenha apenas uma pessoa e que esses modelos sejam dependentes.

A figura AXXX ilustra duas pessoas editando um mesmo modelo e a figura BXXX ilustra três pessoas editando diferentes modelos, mas que são dependentes.

A implementação da abordagem CoMDD realizada neste trabalho, para evidenciar a hipótese, consiste no uso de uma DSL como abordagem de MDD e de uma Wiki para promover a colaboração e suporte da DSL. Mais especificamente, a DSL é para o domínio de robôs móveis autônomos.

A DSL permite a edição de modelos e geração de código-fonte, usando templates, em uma Wiki. Desta forma, a Wiki serve tanto como ferramenta de suporte da DSL quanto ferramenta colaborativa pois possibilita o trabalho em equipe e o versionamento de modelos. 

A implementação do CoMDD permite:
\begin{enumerate}
	\item \textbf{Edição de modelos:} criar ou alterar modelos de acordo com o metamodelo definido\footnote{O metamodelo pode ser alterado na wiki, assim como as transformações, mas a princípio está sendo definido fora da wiki e esta funcionalidade ainda não foi implementada.}. Os modelos são editados na wiki e serão a entrada do transformador;
	\item \textbf{Transformação de modelos em código-fonte:} o transformador, que funciona na wiki, gera o código-fonte de acordo com o modelo de entrada;% e apresentar erros de sintaxe\footnote{Na atual versão do CoMDD, o transformador não retorna os erros sintáticos e sim os ignora. O transformador então retorna o código-fonte da parte dos modelos válidas}
	\item \textbf{Colaboração:} a wiki permite que mais desenvolvedores possam editar o mesmo modelo usando uma política \textit{pessimistic};
	\item \textbf{Versionamento de modelos:} a wiki armazena um histórico dos modelos com a possibilidade de comparar as versões e retornar à edições anteriores;
	\item \textbf{Controle de acesso por grupos}: a wiki permite criar um grupo com permissão de edição de modelos e outro com permissão de apenas visualização, por exemplo;
	\item \textbf{Comentários}: há dois tipos de comentários. Um é inserido em cada versão alterada e o outro é inserido na página editada. A figura \ref{fig:comentarios_pagina_editada} ilustra comentários feitos na página de edição do modelo, ou seja, na mesma página em que o usuário está editando o modelo ele pode deixar um comentário no final da página. A figura \ref{fig:comentarios_especificos} ilustra comentários específicos para cada versão da página.
\end{enumerate}

\begin{figure}
	\centering
		\includegraphics[width=15cm]{imagens/comentarios_na_pagina_de_edicao.png}
	\caption{Comentários feitos na página de edição} 
	\label{fig:comentarios_pagina_editada}
\end{figure}

\begin{figure}
	\centering
		\includegraphics[width=15cm]{imagens/comentarios_especificos.png}
	\caption{Comentários feitos para cada versão da página} 
	\label{fig:comentarios_especificos}
\end{figure}



No apêndice \ref{apendice_implementacao} estão os detalhes da implementação como: código-fonte, como fazer o plugin para a Xwiki e afins.

\subsection*{Processo Realizado na Wiki}

A figura XXX ilustra o processo de edição e transformação dos modelos realizado na Wiki. Um desenvolvedor edita um modelo (passo 1). Este modelo deve estar de acordo com o metamodelo (passo 2). É o metamodelo que define a estrutura do modelo, ou seja é ele quem define o que é uma bola e se ela vem antes ou depois do quadrado. Se o modelo estiver de acordo com o metamodelo, então são aplicadas transformações (passo 3) que geram o código-fonte (passo 4).

FIGURA!!


%Possíveis de serem implementadas: 
%	Merge (ver como a wikipedia faz e um plugin)
%	Bate papo dentro da wiki
%	Highlight com javascript
%	Wiki como ide: ver outras características de uma ide
%	Metametamodelagem: é possível alterar a propria gramatica, bem como as transformações ainda pela propria wiki, mas isso seria um script
%	Falar da edição de subartefatos: numa wiki é muito simples voce criar uma pagina dentro de outra [[]]

\subsection*{Vantagens}
O CoMDD tem as seguintes vantagens devido ao uso de uma wiki e de MDD:
\begin{enumerate}
	\item \textbf{Produtividade:}
	\item \textbf{DDS:}
	\item \textbf{Comunicação}
	\item \textbf{Funciona na web e não precisa de programas instalados localmente}
\end{enumerate}

\section{Método}
\label{metodo}
Para tentar evidenciar que a hipótese é possível/verdadeira o CoMDD três estudos de caso foram executados. O CoMDD foi implementado usando o ANTLR\footnote{http://www.antlr.org}, onde foi definido o metamodelo e as transformações; e a wiki usada foi a Xwiki\footnote{http://www.xwiki.org} (ver detalhes de implementação no Apêndice \ref{apendice_implementacao}). 

\subsection{Estudo de Caso I}
O objetivo do primeiro estudo de caso foi avaliar o CoMDD por pessoas não desenvolvedoras. A avaliação consistia em verificar como participantes jovens, com relativa baixa formação, sem conhecimentos de programação e sem conhecimentos do domínio, conseguiriam entender os conceitos e a linguagem do CoMDD. 

\subsubsection{Descrição dos participantes}
Alunos de pré-iniciação científica do Laboratório de Robótica Móvel da Universidade de São Paulo. Três deles tinham 16 anos e um 17 anos, sendo dois garotos e duas garotas. Todos os quatro haviam concluído o segundo colegial.
Já tinham programado para o robô SRV\footnote{vem o site do srv que por algum motivo nao ta compilando no latex!} com o intuito educacional, usando uma API própria e simples. Não possuiam conceitos de algoritmos ou de programação orientada a objetos.

\subsubsection{Instruções e Problema Apresentado}
Foram formadas duas equipes com dois integrantes cada. Cada equipe ficava em um único computador, ou seja, eram dois computadores com duas pessoas. A distribuição foi definida dessa forma para estimular a comunicação e facilitar a resolução do problema. Estima-se que se fosse uma pessoa por computador o experimento iria durar o dobro do tempo, se tornando inviável de conseguir pessoas para participar.

Antes de passar o comando foi lido junto com os participanetes dois textos, o primeiro explicando o que é o CoMDD (ver \textit{Texto I: O que é o CoMDD?} no apêndice \ref{apendice_textos}) e o segundo texto explicando como usar a DSL criada para o estudo de caso (ver \textit{Texto II: Como programar para o CoMDD} no apêndice \ref{apendice_texto2_como_programar_para_o_comdd}).

Após a leitura, o seguinte comando foi passado:

\begin{center}
 \fbox{
 \parbox{15cm}{
 O código é de um robô que ao receber uma lista de coordenadas deve ser capaz de passar por elas. Seu algoritmo de funcionamento é o seguinte: 
 \vspace{5mm}

 Os sensores devem ler a informação 

 O robô recebe a próxima coordenada 

 O robô processa a informação 

 O robô recebe uma regra a aplicar 

 O robô anda 
 \vspace{5mm}
 
 Esse algoritmo deve ficar sendo executado eternamente, até o robô ser desligado. 

 Agora você deve a partir do algoritmo e das explicações no site ser capaz de escrever um código usando a linguagem do CoMDD. 
 \vspace{5mm}
 
 Requisitos: 

 O robô deve ser da plataforma pionner 

 O robô deve usar os pacotes de localização e o do player 

 O robô deve usar um gps e uma bússola 

 O robô seguir um conjunto de coordenadas 

} } 
\end{center}

O tempo entre o momento que o pesquisador começou a falar com os participantes até o final do experimento foi de aproximadamente 2h45. Este tempo inclui a instrução do pesquisador aos participantes, a resolução do problema e a avaliação feita pelos participantes.

\subsubsection{Resultados}
\label{resposta_correta_do_modelo}
A resposta correta é a seguinte:

\begin{center}
\fbox{
 \parbox{10cm}{
	plataforma pionner 

	robo david 

	adicionar includes 

	adicionar defines 

	importar pacote player; 

	importar pacote localizacao; 

	criarSensor gps 

	criarSensor bussola 

	\hspace{5mm} int main() \{ 

	\hspace{5mm}\hspace{5mm} gps.ligar();

	\hspace{5mm}\hspace{5mm} bussola.ligar(); 

	\hspace{5mm}\hspace{5mm} carregarListaCoordenadas(); 

	\hspace{5mm}\hspace{5mm} inicializarPlayer(); 

	\hspace{5mm}\hspace{5mm} while(true) \{ 

	\hspace{5mm}\hspace{5mm}\hspace{5mm} bussola.ler(); 

	\hspace{5mm}\hspace{5mm}\hspace{5mm} gps.ler(); 

	\hspace{5mm}\hspace{5mm}\hspace{5mm} receberCoordenada();
 
	\hspace{5mm}\hspace{5mm}\hspace{5mm} processaInfo(); 

	\hspace{5mm}\hspace{5mm}\hspace{5mm} defineRegraSeguirMultiplasCoordenadas(); 

	\hspace{5mm}\hspace{5mm}\hspace{5mm} andar(); 

	\hspace{5mm}\hspace{5mm} \} 

	\hspace{5mm} \} 

}}
\end{center}

\paragraph{Resultados da equipe A}
A equipe A apresentou a seguinte resposta, observando que a identação apresentada é proporcional à original:

\begin{center}
\fbox{
 \parbox{10cm}{
	plataforma pioneer 

	robo MLJ123 

	adicionar defines 

	adicionar includes 

	adicionar while 

	\vspace{5mm}
	importar pacote player; 

	importar pacote localizacao; 

	\vspace{5mm}
	criarSensor gps 

	criarSensor bussola 

	\vspace{5mm}
	int main() \{ 

	\hspace{5mm}       << 

	\hspace{5mm}       gps.ligar(); 

	\hspace{5mm}       bussola.ligar(); 

	\hspace{5mm}       carregarListaCoordenadas(); 

	\hspace{5mm}       inicializarPlayer(); 

	\hspace{1mm} while(true) \{ 

	\hspace{3,5mm}       gps.ler(); 

	\hspace{5mm}	   bussola.ler(); 

	\hspace{5mm}	carregarListaCoordenadas(); 

	\hspace{5mm}	receberCoordenada(); 

	\hspace{5mm}	processaInfo(); 

	\hspace{5mm}	defineRegraSeguirMultiplasCoordenadas(); 

	\hspace{5mm}	andar();             

	\hspace{5mm}        \} 

	\hspace{5mm}        >> 

	\}

}}
\end{center}

\paragraph{Resultado da equipe B}
A equipe B apresentou a seguinte resposta, observando que a identação apresentada é proporcional à original:

\begin{center}
\fbox{
 \parbox{10cm}{
plataforma pioneer 

importar pacote player; 

importar pacote localizacao; 

criarSensor gps 

criarSensor bússola 

carregarListaCoordenadas(); 

int main() { 

<<Inicializações 

Loop 

Funções 

>> 

}	

}}
\end{center}

\paragraph{Observações (trocar esse nome)}
\begin{enumerate}
\item Ambos grupos receberam as instruções pelo pesquisador por vídeo conferência;
\item Durante todo o experimento, o grupo B teve suporte via vídeo conferência, enquanto que o grupo A teve suporte via \textit{instant messanger} e o auxílio de um aluno de doutorado do LRM que estava no local; 
\item O grupo A leu uma segunda vez o texto II;
\item O grupo A teve melhores resultados que o grupo B. Os resultados do grupo A são considerados como corretos, enquanto que os do grupo B estão errados.
\end{enumerate}

\subsubsection{Opiniões dos participantes}
\textit{Prós:} A linguagem é fácil de entender e o fato de ser em português facilita.

\textit{Contras:} Foi mais complicado entender as intruções do experimento; ficou confusa a função \textit{carregarListaCoordenadas()}.

\subsubsection{Conclusões e observações do Estudo de Caso I}
A seguir as conclusões e observações do primeiro estudo de caso realizado:
\begin{enumerate}
	\item O experimento foi transmitido a distância, via vídeo conferência e com a ajuda de um aluno de doutorado do LRM que acompanhou os participantes e auxiliou o grupo A, enquanto o pesquisador auxiliava o grupo B. Não pode-se precisar quanto foi o auxílio que o grupo A recebeu;
	\item Ao observar as equipes estima-se a necessidade de pelo menos duas horas adicionar para que eles aprendessem a usar e instalar o Eclipse e SVN;
	\item Os participantes tinham dificuldade ou preguiça de lerem o texto que ensinava como programar para o CoMDD (\ref{apendice_texto2_como_programar_para_o_comdd})
	\item Os grupos, principalmente o grupo B, tinham o hábito de perguntarem constantemente se o que faziam estava certo;
	\item Os participantes copiavam do texto \ref{apendice_texto2_como_programar_para_o_comdd} e colavam na página de edição;
	\item Era esperado que mesmo os participantes sem conhecimento de programação teriam mais facilidade em aprender a linguagem.
\end{enumerate}

\subsubsection{Lições aprendidas}
Como aprendizado do estudo de caso I é necessário planejar melhor em dois aspéctos:
\begin{enumerate}
	\item Organizar melhor a infra-estrutura: verificar quantos computadores serão necessários; se a comunicação for on-line, preparar os softwares necessários e orientar bem uma pessoa que possa ajudar e que esteja presente com os participantes. No caso deste experimento houve um mal planejamento da infra-estrutura e da orientação ao ajudante; 
	\item Para um experimento deste tipo o ideal é evitar ajudar os participantes após passar o problema. Dessa forma, tem-se uma visão mais real de como não desenvolvedores se comportaria com o CoMDD. Os participantes estiveram muito dependentes do pesquisador e estima-se quatro hipóteses não excludentes que expliquem essa dependência: (i) relativa baixa instrução dos participantes, (ii) ruídos provocados pela distância, (iii) mal planejamento ou instrução por parte do pesquisador e/ou (iv) a disposição do pesquisador para tirar dúvidas.
\end{enumerate}

%-----------------------------------
%--------Estudo de Caso-------------
%-----------------------------------
\subsection{Estudo de Caso II}
O objetivo do segundo estudo de caso foi avaliar comparativamente, entre desenvolvedores, o CoMDD com a abordagem tradicional. A avaliação consiste na coleta de opinião por parte destes usuários. Neste caso a abordagem tradicional é definida pelo uso do Eclipse com o plugin SVN instalado e será referenciada por "Eclipse+SVN" como sinônimos. 

Para realizar este estudo de caso foi implementado para o Eclipse, a mesma linguagem usada no CoMDD. O Eclipse possui dois projetos: o Xtext\footnote{http://www.eclipse.org/Xtext/}, usado para definir a linguagem e o Xpand\footnote{http://wiki.eclipse.org/Xpand} usado para definir as transformações;

\subsubsection{Descrição dos participantes}
Todos os quatro participantes são formados em ciências da computação, atuaram na indústria desenvolvendo sistemas e estão cursando mestrado ou doutorado na Universidade de São Paulo em ciências da computação.

\subsubsection{Instruções e Problema Apresentado}
\label{instrucoes_comuns}
Os quatro integrantes foram dividos em duas equipes: equipe A (usando o CoMDD) e equipe B (usando Eclipse+SVN). Ambos integrantes de cada equipe estavam em locais (mais especificamente cidades) diferentes na hora do experimento. A equipe A realizou o experimento em um dia diferente da equipe B. O experimento foi passado por um software de conferência por voz.

Antes de passar o comando todos os grupos receberam instruções comuns e instruções específicas. As instruções comuns foram:
\begin{enumerate}
\item Ler o texto base. O texto base da equipe A é o \textit{Texto I: O que é o CoMDD?} (ver \ref{apendice_texto1_o_que_e_comdd}) e da equipe B é o \textit{Texto IB: Instalação do Eclipse+SVN e importação da DSL} (ver \ref{apendice+texto1b_instalacao});
\item Ler o \textit{Texto II: Como programar para o CoMDD} (ver \ref{apendice_texto2_como_programar_para_o_comdd});
\item Pode-se comentar na edição do modelo usando "//";
\item A função carregarListaCoordenadas() já está configurada para a lista de coordenadas, desta forma vocês não devem se preocupar em passar um lista de coordenadas, apenas chamar a função;
\item O desenvolvimento é feito em turnos e em cada turno apenas um desenvolvedor pode trabalhar no código (editá-lo), para evitar conflitos e \textit{merges}. Cada turno tem 3 minutos para desenvolver e mais 2 minuto para comentar no CoMDD (equipe A) ou fazer o \textit{commit} (equipe B). Por ex: 

0'-3': O desenvolvedor 1 começa programando enquanto o desenvolvedor 2 fica esperando (enquanto isso os desenvolvedores podem se comunicar via email ou gtalk);

3'01s - 5': o desenvolvedor 1 tem de salvar suas alterações e comentar o código caso ache necessário;

5'01s - 6': ninguém faz nada para que o servidor atualize os dados;

6'01s-9': o desenvolvedor 2 assume o comando de edição do código e o desenvolvedor 1 fica aguardando ou conversando via e-mail ou gtalk com o desenvolvedor 2 caso este precise;

9'01s-11': o desenvolvedor 2 tem de salvar suas alterações e comentar o código caso ache necessário;

11'01s-14': o ciclo se repete
\end{enumerate}

O seguinte comando foi passado:

\begin{center}
 \fbox{
 \parbox{15cm}{
O código é de um robô que ao receber uma lista de coordenadas deve ser capaz de passar por elas. Seu algoritmo de funcionamento é o seguinte: 
 \vspace{5mm}

 Os sensores devem ler a informação 

 O robô recebe a próxima coordenada 

 O robô processa a informação 

 O robô recebe uma regra a aplicar, de acordo com os requisitos 

 O robô atua no ambiente  
\vspace{5mm}
 
 Esse algoritmo deve ficar sendo executado eternamente, até o robô ser desligado. 

 Agora vocês devem a partir do algoritmo e das explicações no site serem capazes de escrever um código usando a linguagem do CoMDD.  
 \vspace{5mm}
 
 Requisitos: 

 O robô deve ser da plataforma pionner----------------------------------------------------- Dev1 

 O nome do robê deve ser uma concatenação dos nomes dos desenvolvedores------- Dev2 

 O robô deve usar os pacotes de localização------------------------------------------------ Dev1 

 O robô deve usar os pacotes do player------------------------------------------------------ Dev2 

 O robô deve usar um gps---------------------------------------------------------------------- Dev1 

 O robô deve usar uma bússola---------------------------------------------------------------- Dev2 

 O robô seguir um conjunto de coordenadas--------------------------------------- Dev1 + Dev2

} } 
\end{center}

\subsubsection{Equipe A: CoMDD}
Além das instruções comuns apresentadas na seção \ref{instrucoes_comuns}, para equipe A foram apresentadas as seguintes intruções:
\begin{enumerate}
\item Pode-se usar todas as funcionalidades da wiki como comentários, histórico e comparação de versões\footnote{Um exemplo de edição normal (sem ser usando a DSL) foi apresentado para que os participantes pudessem saber como e onde editar, comentar e comparar versões.};
\item Dar preferência para comunicação que a própria wiki fornece: os comentários, caso contrário usar um instant messanger ou o e-mail e depois fornecer o log para o pesquisador
\end{enumerate}


\subsubsection{Equipe B: Eclipse+SVN}
Além das instruções comuns apresentadas na seção \ref{instrucoes_comuns}, para equipe B foram apresentadas as seguintes intruções:
\begin{enumerate}
\item Pode-se usar todas as funcionalidades do plugin SVN como check-in check-out, comentários, histórico e comparação de versões\footnote{Os participantes já conheciam o plugin.};
\item Dar preferência para comunicação que o próprio SVN fornece: os comentários, caso contrário usar um instant messanger ou o e-mail e depois fornecer o log para o pesquisador
\item Não usar as funções comuns de uma IDE como highlight, auto-complete e etc\footnote{Assim as equipes ficam mais iguais, uma vez que no CoMDD essas funcionalidades não foram implementadas.}\footnote{O Eclipse tem um ambiente que não usa as funções citadas.}
\end{enumerate}


\subsubsection{Resultados}
A resposta correta é a mesma apresentada na seção \ref{resposta_correta_do_modelo}.

\paragraph{Resultados da Equipe A}
O pesquisador acompanhou a equipe e foi responsável por avisar quando um desenvolvedor podia editar ou devia esperar, para evitar conflitos de edição, contudo o tempo apresentado nas instruções não foi rígido. A equipe A apresentou a seguinte resposta:

\begin{center}
\fbox{
 \parbox{15cm}{
//O robô deve ser da plataforma pionner - Danilo

plataforma pionner

\vspace{5mm}
//O nome do robê deve ser uma concatenação dos nomes dos desenvolvedores - Davi

robo davnilo

\vspace{5mm}
//O robô deve usar os pacotes de localização - Danilo

importar pacote localizacao

\vspace{5mm}
//O robô deve usar os pacotes do player - Davi

importar pacote player;

\vspace{5mm}
//O robô deve usar um gps - Danilo

criarSensor gps

\vspace{5mm}
//O robô deve usar uma bússola- Davi

criarSensor bussola

\vspace{5mm}
//função principal do código

int main() \{

bussola.ligar();

gps.ligar();

\vspace{5mm}
//O robô seguir um conjunto de coordenadas - Danilo + Davi

while(true) \{

bussola.ler(); 

gps.ler();

receberCoordenada();

processaInfo();

defineRegraSeguir(); 

defineRegraNaoBater();

andar();

\}

\}

}}
\end{center}

A figura \ref{fig:conversa_grupo_a} registra a comunicação realizada pelo grupo. O grupo usou os comentários da página de edição e não usou os comentários de versões. Observando a figura \ref{fig:conversa_grupo_a} pode-se dizer que o grupo usou esse comentário como um \textit{intant messanger}. 

\begin{figure}[h]
	\centering
		\includegraphics[width=15cm]{imagens/conversa_grupo_a.png}
	\caption{Log da conversa entre o desenvolvedor 1 e o desenvolvedor 2} 
	\label{fig:conversa_grupo_a}
\end{figure}


%Em um momento eu indiquei que o modelo tinha erros e ainda assim, no final ainda faltou algumas coisas no modelo.
%O danilo teve uma duvida e eu sugeri ele ler a api ou perguntar para a dupla dele, mas perguntaram menos do que no estudo de caso 1
%Sugeri para eles conversarem entre si e lerem a API
%O tempo não era muito rígido, mas apenas uma pessoa editava por vez durante um turno.

\paragraph{Resultados da Equipe B}
O pesquisador acompanhou a equipe e foi responsável por avisar quando um desenvolvedor podia editar ou devia esperar, para evitar conflitos de edição, contudo o tempo apresentado nas instruções não foi rígido. A equipe B apresentou a seguinte resposta:

\begin{center}
\fbox{
 \parbox{15cm}{
// Definindo a plataforma do robo como pioneer

plataforma pioneer

\vspace{5mm}
// Define o nome do robo como uma concatenacao dos nomes dos desenvolvedores

robo filipeAlexandre

\vspace{5mm}
adicionar includes

adicionar defines

\vspace{5mm}
importar pacote localizacao;

importar pacote player;

\vspace{5mm}
criarSensor gps

criarSensor bussola

\vspace{5mm}
int main() \{

\vspace{5mm}
    \hspace{5mm} // Ligar o GPS

    \hspace{5mm} gps.ligar();
    
\vspace{5mm}
    \hspace{5mm} // Ligar Bussola

    \hspace{5mm} bussola.ligar();

\vspace{5mm}    
    \hspace{5mm} // Carrega lista de coordernadas e inicializa Player

    \hspace{5mm} carregarListaCoordenadas();

    \hspace{5mm} inicializarPlayer();

\vspace{5mm}    
    \hspace{5mm} // Define que robo ira seguir um conjungo de coordenadas

    \hspace{5mm} defineRegraSeguirMultiplasCoordenadas();

\vspace{5mm}    
    \hspace{5mm} // Loop

    \hspace{5mm} while(true) \{

        \hspace{5mm}\hspace{5mm} // Le os dados atuais

        \hspace{5mm}\hspace{5mm} gps.ler();

        \hspace{5mm}\hspace{5mm} bussola.ler();

\vspace{5mm}        
        \hspace{5mm}\hspace{5mm} // Processa informacoes

        \hspace{5mm}\hspace{5mm} processaInfo();

        \hspace{5mm}\hspace{5mm} receberCoordenada();


\vspace{5mm}        
        \hspace{5mm}\hspace{5mm} andar();

    \hspace{5mm} \}

\}

}}
\end{center}


\begin{figure}[h]
	\centering
		\includegraphics[width=15cm]{imagens/conversa_grupo_b.png}
	\caption{Log da conversa entre o desenvolvedor 1 e o desenvolvedor 2} 
	\label{fig:conversa_grupo_b}
\end{figure}


A figura \ref{fig:conversa_grupo_b} registra a comunicação realizada pelo grupo. O grupo usou os comentários do check-in do SVN, e não usaram como um \textit{instant messanger} e quando estavam acabando usaram um \textit{intant messanger}. O log da conversa é apresentado no apêndice \ref{apendice_log}.

%O grillo e o michetti perguntou se sempre vai ter que adicionar defines, includes, robo michetti, plataforma pioneer
%Eles pensaram que era um requisito por turno, mas esclareci que não.
%O tempo foi mais rigido e eles conversaram pouco pelo skype, até que os instruí para que usassem algum instant messanger ao invés de uma voice conference.

Depois do experimento a equipe B foi apresentada ao CoMDD e então foi questionada pelo pesquisador.

\subsubsection{Opiniões dos Participantes e Obersvações do Pesquisador}
Serão apresentadas as opniões dos participantes juntamente com as observações do pesquisador.

\paragraph{Equipe A}
Quando os participantes da equipe A foram questionados sobre a \textit{linguagem} usada, eles responderam que precisava melhorar aspectos pontuais como deixar toda em inglês ou em português, mas que era fácil de aprender. Em relação aos \textit{comentários} que a Wiki propicia eles são úteis mas sentiram falta de um \textit{instant messanger}.

De uma maneira geral, a equipe gostou da abordagem do CoMDD principalmente pela facilidade de edição, flexibilidade e independência de softwares instalados. Eles acham a necessidade de instalar programas como IDEs e SVNs algo trabalhoso. Entretanto sentiram falta do processo de compilação, sendo esta a maior barreira apontada pela equipe A para usar o CoMDD.

A equipe A usou os comentários da página de edição, mas não os comentários de versionamento e comentaram no modelo. A comparação de modelos não foi necessária.

No apêndice \ref{apendice_questionarios} são apresentadas as perguntas feitas para a Equipe A com as respostas coletadas pelo pesquisador. 

\paragraph{Equipe B}
Quando os participantes da equipe B foram questionados sobre a \textit{linguagem} usada, eles responderam que era fácil e simples, com poucos comandos e com uma curva de aprendizagem rápida, mas que a parte dos \textit{includes} estava confusa. Em relação aos \textit{comentários} que o SVN propicia eles não foram úteis pois o problema apresentado era simples e por isso apenas os comentários no código e o diálogo no \textit{instant messanger} era o suficiente.

De uma maneira geral, a equipe aprovaria o uso do CoMDD para um projeto de pequeno porte e apontaram como o costume a maior barreira para usar o CoMDD, pois os desenvolvedores estão acostumados com o uso de IDEs e SVNs.

A equipe B usou o check-in, check-out e comentaram no modelo. A comparação de modelos não foi necessária. 

No apêndice \ref{apendice_questionarios} são apresentadas as perguntas feitas para a Equipe B com as respostas coletadas pelo pesquisador. 

\subsubsection{Conclusões e Observações do Estudo de Caso II}
A seguir as conclusões e observações do segundo estudo de caso realizado:
\begin{enumerate}
\item Pode-se dizer que para ambas equipes os comentários ao longo do modelo foram importantes para permitir que dua pessoas editassem a mesma classe, podendo separar as atividades de cada um;

\item Ambas equipes conseguiram chegar na resposta correta, entretanto a equipe A com menos esforços por não precisarem instalar ferramentas;

\item A equipe A usou os comentários da página de edição para se comunicarem como se fosse um \textit{instant messanger}. Através desses comentários cada integrante da equipe estava ciente do que o outro estava fazendo e puderam compartilhar conhecimento para resolver a tarefa, compartilhando dúvidas e conclusões. Essa comunicação fica registrada na página do modelo, o que pode ser útil para documentação;

\item A equipe B usou um \textit{instant messanger} quando estavam terminando de resolver o problema para concluirem se já haviam terminado de resolver o problema ou não;

\item Um ponto positivo do SVN é que ele "obriga" que o usuário comente ao fazer o check-in, entretanto a leitura dos comentários da wiki é mais simples;

\item Para o problema dado, desconsiderando os recursos de uma IDE, os quatro participantes das duas equipes usariam o CoMDD no lugar do Eclipse+SVN;

\item Os quatro participantes das duas equipes concordaram que o CoMDD é melhor para usuários não desenvolvedores do que o Eclipse+SVN.

%\item Para atender um determinado dominio, a wiki é o suficiente, para coisas simples, para algo mais complexo e que necessite de varias pessoas editando ao mesmo tempo e que podem dar erro, ai talvez o melhor seja a tradicional.

%\item só que com uma wiki é muito mais facil e simples de qualquer pessoa colaborar, bastando para isso ter permissões.
\end{enumerate}

\subsubsection{Lições aprendidas}
O estudo de caso II foi necessário para se fazer uma análise qualitativa das abordagens, contudo foi necessário um esforço grande para reunir pessoas que estivessem dipostas a realizar um experimento que durasse em torno de 2 ou 3h. O experimento exigiu e um esforço ainda maior para realizar os experimentos, pois para isso o pesquisador teve que além de preparar o experimento, acompanhar cada uma das equipes durante a execução. 

A partir dessas observações surgiu a ideia de fazer dois vídeos: um apresentando o CoMDD e o outro apresentando o Eclipse+SVN. Esses vídeos seriam transmitidos para desenvolvedores da indústria, preferencialmente, e seriam acompanhados de um questionário. Assim tería-se, além de um estudo qualitativo, um estudo quantitativo. Esse foi o princípio de formação do estudo de caso 3. 

\subsection{Estuo de caso 3: análise de vídeos e planilha de ticar}
BLAHBLHABLHA...

highlight, auto complete sao coisas simples de se acrescentar, mas o mais importante é observar que esses foram os principais empecilhos de uso do CoMDD, ou seja, se as pessoas tivessem essas funcionalidades implementadas numa wiki possivelmente usariam o comdd. -> Talvez venha concluir isso


A DSL do CoMDD poderia aceitar algumas partes do modelo linguagens de programação como C, C++ ou Java e não realizar transformações nessas partes. Assim, a DSL teria mais aceitação entre os usuários.

%Escopo do trabalho/ou experimento: Este trabalho foca principalmente em sistemas de pequeno porte, no caso foi testado para uma classe e duas pessoas, mas acredita-se que para algo em torno disso a abordagem funcione também.


\section{Trabalhos Relacionados}
\label{trabalhosRelacionados} 
%%Atenção: quando for publicar eu tenho que ler estes trabalhos melhor e também ler os trabalhos da minha quali.

\subsection*{Adessowiki}
Os trabalhos de Lotufo et al \cite{Lotufo2009} e de Machado et al. \cite{Machado2011} apresentam o Adessowiki\footnote{http://www.adessowiki.org}, um ambiente colaborativo para desenvolvimento, documentação, ensino e repositório de algoritmos científicos, com foco na área de processamento de imagens. Este ambiente está sendo usado desde 2008 como um ambiente educacional e como uma ferramenta colaborativa para escrita de artigos e outros textos científicos.  %Uma página típica do Adessowiki contém um texto, um código e uma imagem gerada por este código.

Segundo os autores, o que torna o Adessowiki especial em relação às outras wikis e aplicações Web é sua capaciadade de incluir pedaços de código em \textit{Python} ou C++ que são executados no servidor quando as páginas wiki são renderizadas. Desta forma, os resultados deste código podem fazer parte de textos científicos, em forma de figuras, textos e tabelas. %juntar com o parágrafo de baixo

O principal objetivo deste ambiente é desenvolver colaborativamente algoritmos numéricos. As páginas do Adessowiki permitem a inserção de código, o qual é executado quando a página é renderizada, incorporando figuras, textos e tabelas, gerando um documento científico.

Em relação ao ensino, o Adessowiki pode, como wiki, servir para registrar informações do curso como notas, exercídios e etc; como um ambiente de programação, serve 
de plataforma para atividades de programação solicitadas pelo profesor, uma vez que o código pode se inserido e os resultados visualizados nas páginas wiki.

O Adessowiki se assemelha ao CoMDD por ser uma wiki para edição colaborativa no desenvolvimento de código (produto final do CoMDD), entretanto a principal diferença entre as abordagens está no foco dado por cada uma. Enquanto o Adessowiki tem mais o caráter de ensino, de pesquisa científica, de produção de textos científicos, e se limita à área de processamento de imagem e computação gráfica; o CoMDD foca no desenvolvimento de sistemas de software usando modelos, incentivando a colaboração de desenvolvedores ou não e com o intuito de ser uma espécie de substituto à IDEs e versionadores instalados localmente.

Ainda, o método usado pelo CoMDD está na comparação entre a abordagem CoMDD e a tradicional, enquanto que os autores do Adessowiki apresentam os casos de uso que o ambiente atende

\subsection*{Galaxy Wiki}

O Galaxy Wiki permite, em uma Wiki, que desenvolvedores não só possam navegar, criar, modificar e deletar código fonte, como também compilar, executar e debugar programas Java, e ainda colaborativamente.

Os autores desenvolveram um plugin para o Eclipse de modo que o Eclipse acessa as páginas de projeto, de classes e de bibliotecas armazenadas no Galaxy Wiki e convertem em projetos e arquivos Java e JARs, respectivamente, integrando assim o Galaxy Wiki e o Eclipse.

%Além da semelhança de desenvolver código usando uma wiki, o trabalho de \cite{Xiao2007} cita sobre engenharia de software orientada a páginas. Embora este trabalho apenas lance como proposta futura, o trabalho de Xiao et al., permite que um programador possa reusar outra código fonte apenas referenciando -- Page Oriented Software Engineering: We are trying to figure out an environment on the premise of programming in wiki. It contains freely expandable collection of interlinked source code, and each of them is easily editable and usable by any users with a Web browser. More specifically, a programmer can manipulate his source code via wiki pages, and reuse other programmers' source code by reference corresponding wiki pages.

Contudo, o CoMDD se difere do Galaxy Wiki por trazer a ideia de MDD ao invés do uso de Java. Assim, com o uso de modelos, tem-se mais incentivo à colaboração. Além do que Xiao et al., não destacam as vantagens do Galaxy Wiki em relação à uma IDE associada à um sistema de versionamento, como este trabalho faz.

%Ver trabalhos da Christiane M. Neuwirth, como por exemplo: Computer Support for Distributed Collaborative Writing: A Coordination Science Perspective


%A web-based collaborative metamodeling environment with secure remote model access


\section{Google Docs}

\section{IDEs on-line}

http://c9.io/

semelhança: a ideia de ter tudo na web e nao localmente
pros: aparentemente bastante robusto!
constras: nao muda da abordagem tradicional de desenvolvimento numa ide+git, o que tras todos os problemas associados, sem contar que voce nao tem modelos, mas codigo fonte direto, o que tambem dificulta o entendimento dos stakeholders, sem contar que perde todos os demais beneficios do mdd.

o c9 nao foi estudado a fundo em virtude de termos conhecido ha pouco tempo, de modo que o trabalho estava fechado.

\section{}





\section{Artigos}
1-Sobre o que fala o trabalho deles?

2-Quais as semelhanças?

3-Qual seu diferencial?






\section{Ferramentas já em uso}
sugestao do michetti

aquele que o chiquito mandou na lista, ...


\section{Na falta de trabalhos relacionados}
Ferramentas de MDD: eclipse, MPS, ...

Ferramentas que auxiliam o trabalho colaborativo (sharepoint)...



